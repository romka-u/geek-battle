<html>
    <head>
        <title>
            Geek Battle
        </title>
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
        <script type="text/javascript" src="jquery-ui-1.7.2.custom.min.js"></script>
        <script src="socket.io/socket.io.js"></script>
        <script type="text/javascript" src="jquery.timers.js"></script>
        <script type="text/javascript" src="jquery.flip.js"></script>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
        <script type="text/javascript" src="jquery.lavalamp.js"></script>

        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" type="text/css" href="chat-style.css">

        <script type="text/javascript" src="geekbattle-ui.js"></script>
        <script type="text/javascript" src="geekbattle-sockets.js"></script>

        <script type="text/javascript">
            $(function() {
                for (var i = 0; i < 4; i++) {
                    $('#choice_' + i).click(function() {
                        $(this).addClass($(this).attr('correct') == "true" ? 'correct' : 'incorrect');
                        my_answers.push($(this).attr('id').substr(7));
                        socket.emit('get task', $(this).attr('correct') == "true");
                        $('.answers').hide();
                        $('#images').css('background-color', $(this).attr('correct') == "true" ? '#00ff00' : '#ff0000');
                        $('#images').flip({
                            direction: 'rl',
                            speed: 300,
                            color: '#ffffff'
                        });
                    });
                }
                $('#select-duration').change(function() {
                    socket.emit('set-duration', $(this).val());
                });

                $('#select-level').change(function() {
                    socket.emit('set-level', $(this).val());
                });

                $('#select-questions').change(function() {
                    socket.emit('set-questions', $(this).val());
                });
            });
        </script>
    </head>

    <body>
        <div id="splash">
            <p>Enter your nickname:</p>
            <form id="set-nickname">
                <input id="nick">
                <button>Ok</button>
            </form>
            <p id="nickname-err">This nickname is already used</p>
        </div>

        <div class="caption">
            Geek Battle
        </div>

        <table align="center" class="hide" id="main-table" width="800">
            <tr><td>
                <div class="back-divs" id="nicknames" text-align="left">
                    <select><option>New room</option></select>
                </div>
            </td></tr>

            <tr><td>
                <div class="back-divs" id="options" style="text-align: center;">
                    <table align="center">
                        <tr>
                            <td width="150">
                                Game type:
                            </td>
                            <td>
                                <select id='select-gametype'>
                                    <option value='time'>Time</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Game duration:
                            <td>
                                <!-- <ul class="lavaLampNoImage" id="ll-gamelength">
                                    <li length="15"><a href="#">15</a>
                                    <li length="30"><a href="#">30</a>
                                    <li length="60"><a href="#">60</a>
                                    <li length="120"><a href="#">120</a>
                                </ul> -->
                                <select id='select-duration'>
                                    <option value='15'>15</option>
                                    <option value='30'>30</option>
                                    <option value='60'>60</option>
                                    <option value='120'>120</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Questions:
                            <td>
                                <select id='select-questions'>
                                    <option value='mixed'>Mixed</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                Level:
                            <td>
                                <!-- <ul class="lavaLampNoImage" id="ll-level">
                                    <li level="1"><a href="#">Easy</a></li>
                                    <li level="2"><a href="#">Medium</a></li>
                                    <li level="3"><a href="#">Hard</a></li>
                                </ul> -->
                                <select id='select-level'>
                                    <option value='1'>Easy</option>
                                    <option value='2'>Medium</option>
                                    <option value='3'>Hard</option>
                                </select>
                            </td>
                        </tr>
                    </table>
                </div>
            </td></tr>
            
            <tr><td align="center">
                <div class="back-divs" id="questions" style="min-height: 350px; background: #fff; text-align: center;">
                    <button id="newgame">New game</button>
                    <button id="button-options">Options</button>
                    <br/>
                    <span id="status">Press 'New game' to begin</span>
                    <br/>
                    <div id="images" class="hide">
                        <img id="question" class="answers"/>
                        <br/>
                        <img id="choice_0" class="answers"/>
                        <img id="choice_1" class="answers"/>
                        <br/>
                        <img id="choice_2" class="answers"/>
                        <img id="choice_3" class="answers"/>
                    </div>
                    <table id="box-table" align="center">
                            <tr><th>Results</th></tr>                            
                    </table>
                </div>
            </td></tr>

            <tr><td>
                <div class="back-divs" id="chat">
                    <div id="messages"><div id="lines" width="100%"></div></div>
                    <form id="send-message"><input id="message"><button>Send</button></form>
                </div>
            </td></tr>
        </table>
        Press Ctrl+R to choose a different nickname. Press Ctrl+W to log out.

        <audio preload="auto" id="sound-game-started">
            <source src="audio/Game started.mp3"></source>
            <source src="audio/Game started.ogg"></source>
        </audio>
        <audio preload="auto" id="sound-message-sent">
            <source src="audio/Message sent.mp3"></source>
            <source src="audio/Message sent.ogg"></source>
        </audio>
        <audio preload="auto" id="sound-message-received">
            <source src="audio/Message Received.mp3"></source>
            <source src="audio/Message Received.ogg"></source>
        </audio>
        <audio preload="auto" id="sound-beep">
            <source src="audio/Beep.mp3"></source>
            <source src="audio/Beep.ogg"></source>
        </audio>
        <audio preload="auto" id="sound-waiting-for-game">
            <source src="audio/Waiting for game.mp3"></source>
            <source src="audio/Waiting for game.ogg"></source>
        </audio>
        <audio preload="auto" id="sound-enter">
            <source src="audio/Enter.mp3"></source>
            <source src="audio/Enter.ogg"></source>
        </audio>

        <div class="tooltip"></div>
    </body>
</html>

